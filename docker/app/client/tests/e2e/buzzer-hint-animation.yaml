name: buzzer-hint-animation-test
description: Verify buzzer hint animation appears in IconGrid and Wheel scenes

config:
  game_url: http://localhost:8080
  initial_wait: 2000
  session: buzzer-hint-test

steps:
  # Start from Idle scene
  - action: screenshot
    filename: 01-idle-scene.png
    description: Initial idle screen

  # Trigger game start (press 1 for win)
  - action: key
    key: 1
    description: Force win to progress through scenes

  - action: wait
    duration: 3000
    description: Wait for Intro scene to complete

  # Should now be in IconGrid scene
  - action: screenshot
    filename: 02-icongrid-with-buzzer-hint.png
    description: IconGrid scene with buzzer hint at bottom

  - action: eval
    script: "window.game?.scene?.scenes?.find(s => s.sys.isActive())?.sys.settings.key"
    save_as: active_scene_icongrid
    description: Verify we're in IconGrid scene

  - action: wait
    duration: 3500
    description: Wait to see buzzer animation loop

  - action: screenshot
    filename: 03-icongrid-buzzer-animation.png
    description: Capture buzzer animation in progress

  # Press 1 three times to scratch cards and progress to Wheel
  - action: key
    key: 1
    repeat: 3
    delay: 500
    description: Scratch three cards

  - action: wait
    duration: 3000
    description: Wait for transition to Wheel scene

  # Should now be in Wheel scene
  - action: screenshot
    filename: 04-wheel-with-buzzer-hint.png
    description: Wheel scene with buzzer hint at bottom

  - action: eval
    script: "window.game?.scene?.scenes?.find(s => s.sys.isActive())?.sys.settings.key"
    save_as: active_scene_wheel
    description: Verify we're in Wheel scene

  - action: wait
    duration: 3500
    description: Wait to see buzzer animation loop

  - action: screenshot
    filename: 05-wheel-buzzer-animation.png
    description: Capture buzzer animation in progress

  - action: close
    description: Close browser session

expected_results:
  - step: 2
    expect: IconGrid scene is active with buzzer hint visible at bottom center
  - step: 4
    expect: Buzzer hint animates (press and spring back)
  - step: 6
    expect: Wheel scene is active with buzzer hint visible at bottom center
  - step: 8
    expect: Buzzer hint animates (press and spring back)
